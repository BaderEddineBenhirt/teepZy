{"version":3,"sources":["./src/app/signup-final/signup-final.page.html","./src/app/signup-final/signup-final-routing.module.ts","./src/app/signup-final/signup-final.module.ts","./src/app/signup-final/signup-final.page.scss","./src/app/signup-final/signup-final.page.ts"],"names":[],"mappings":"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","file":"signup-final-signup-final-module-es2015.js","sourcesContent":["export default \"<ion-content>\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <ion-icon style=\\\"font-size: 30px;\\\" name=\\\"arrow-back-outline\\\"></ion-icon>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <img src=\\\"../../assets/img/Illustration 5-05.png\\\" alt=\\\"\\\">\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <form class=\\\"example-form\\\">\\n          <mat-form-field class=\\\"example-full-width\\\">\\n            <mat-label>Cercle Amical</mat-label>\\n            <input matInput  type=\\\"text\\\" name=\\\"pAmical\\\" #pAmical=\\\"ngModel\\\" required [(ngModel)]=\\\"user.pseudoIntime\\\"  placeholder=\\\"Entrer un Pseudo\\\">\\n          </mat-form-field>\\n          <mat-form-field class=\\\"example-full-width\\\">\\n            <mat-label>Cercle Professionnel</mat-label>\\n            <input matInput  type=\\\"text\\\" name=\\\"pProfessionnel\\\" #pProfessionnel=\\\"ngModel\\\" required [(ngModel)]=\\\"user.pseudoPro\\\"   placeholder=\\\"Entrer un Pseudo\\\">\\n          </mat-form-field>\\n\\n          <mat-form-field class=\\\"example-full-width\\\">\\n            <mat-label>Mot de passe</mat-label>\\n            <input matInput type=\\\"password\\\" name=\\\"passwordId\\\" #passwordId=\\\"ngModel\\\" minlength=\\\"8\\\" required [(ngModel)]=\\\"user.password\\\" placeholder=\\\"\\\">\\n            \\n          </mat-form-field>\\n          <div style=\\\"font-size: 11px;margin-left: 34px;\\\" *ngIf=\\\"passwordId.errors?.minlength\\\">\\n            Le mot de passe doit contenir au moins 8 caractères\\n          </div>\\n          <mat-form-field class=\\\"example-full-width\\\">\\n            <mat-label>Confirmer mot de passe</mat-label>\\n            <input matInput name=\\\"conf\\\" #conf=\\\"ngModel\\\" required [(ngModel)]=\\\"user.conf\\\"  placeholder=\\\"\\\" type=\\\"password\\\">\\n          </mat-form-field>\\n\\n\\n        </form>\\n\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n\\n</ion-content>\\n  <!-- Footer without a border -->\\n  <ion-footer class=\\\"ion-no-border\\\">\\n      <ion-toolbar>\\n        <button  style=\\\"float: right;\\\" \\n        [disabled]=\\\"pAmical.errors?.required \\n        || pProfessionnel.errors?.required \\n        || passwordId.errors?.required\\n        || conf.errors?.required\\\"\\n\\n        (click)=\\\"signup()\\\"  mat-button>Suivant</button>\\n      </ion-toolbar>\\n    </ion-footer>\\n  \\n  \"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignupFinalPage } from './signup-final.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupFinalPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignupFinalPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupFinalPageRoutingModule } from './signup-final-routing.module';\nimport { MaterialModule } from '../material.module';\n\nimport { SignupFinalPage } from './signup-final.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MaterialModule,\n\n    SignupFinalPageRoutingModule\n  ],\n  declarations: [SignupFinalPage]\n})\nexport class SignupFinalPageModule {}\n","export default \"img {\\n  width: 53%;\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\nmat-form-field {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.code {\\n  width: 25%;\\n  float: left;\\n  margin-left: 34px;\\n}\\n\\n.phone {\\n  width: 52%;\\n  float: right;\\n  margin-right: 32px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2lnbnVwLWZpbmFsL0M6XFxVc2Vyc1xcYmFkZXJcXERyb3Bib3hcXE15IFBDIChMQVBUT1AtSUFSVUQ4RUopXFxEb3dubG9hZHNcXHRlZXB6eVxcdGVlcHp5bW9iaWxlLW1hc3Rlci9zcmNcXGFwcFxcc2lnbnVwLWZpbmFsXFxzaWdudXAtZmluYWwucGFnZS5zY3NzIiwic3JjL2FwcC9zaWdudXAtZmluYWwvc2lnbnVwLWZpbmFsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3NpZ251cC1maW5hbC9zaWdudXAtZmluYWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW1ne1xuICAgIHdpZHRoOiA1MyU7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuXG5tYXQtZm9ybS1maWVsZHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG5cbi5jb2Rle1xuICAgIHdpZHRoOiAyNSU7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDM0cHg7XG59XG5cbi5waG9uZXtcbiAgICB3aWR0aDogNTIlO1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBtYXJnaW4tcmlnaHQ6IDMycHg7XG5cbn0iLCJpbWcge1xuICB3aWR0aDogNTMlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxubWF0LWZvcm0tZmllbGQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxuLmNvZGUge1xuICB3aWR0aDogMjUlO1xuICBmbG9hdDogbGVmdDtcbiAgbWFyZ2luLWxlZnQ6IDM0cHg7XG59XG5cbi5waG9uZSB7XG4gIHdpZHRoOiA1MiU7XG4gIGZsb2F0OiByaWdodDtcbiAgbWFyZ2luLXJpZ2h0OiAzMnB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../providers/auth.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastController, LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-signup-final',\n  templateUrl: './signup-final.page.html',\n  styleUrls: ['./signup-final.page.scss'],\n})\nexport class SignupFinalPage implements OnInit {\n  user = {\n    email: '',\n    phone:'',\n    nom:'',\n    prenom:'',\n    photo:'',\n\n    pseudoIntime:'',\n    pseudoPro:'',\n    conf:'',\n    password: '',\n\n    role:''\n  }\n\n  retourUsr: any\n  profileInfo:any\n  captchaR:any\n  loading = false;\n  constructor(private authService: AuthService,\n    public router: Router,\n    public toastController: ToastController,\n    private route: ActivatedRoute,\n    private loadingCtrl: LoadingController,\n    \n    ) { }\n\n  ngOnInit() {\n   let usr = this.route.snapshot.queryParamMap\n   this.user.email = usr['params']['email']\n   this.user.phone = usr['params']['phone']\n   this.user.nom = usr['params']['nom']\n   this.user.prenom = usr['params']['prenom']\n   this.user.photo = usr['params']['photo']\n\n   console.log(usr['params'])\n  }\n\n\n  signup() {\n    console.log(JSON.stringify(this.user));\n    this.presentLoading()\n    if (this.user.password == this.user.conf) {\n        this.authService.signup(JSON.stringify(this.user)).subscribe(res => {\n          console.log(res)\n          this.retourUsr = res;\n            this.profileInfo = res['data']\n            this.dismissLoading()\n          if (this.retourUsr['status'] == 200) {\n            this.presentToast('Inscription réussie')\n            this.loading = false\n            localStorage.setItem('teepzyUserId', this.profileInfo['userI']['_id'])\n            localStorage.setItem('teepzyToken',this.profileInfo['token'])\n            localStorage.setItem('teepzyEmail', this.profileInfo['userI']['email'])\n              this.router.navigate(['/link'], {\n                replaceUrl: true\n              })\n          }\n        }, error => {\n          console.log(error)\n          this.loading = false;\n           if (error['status'] == 403){\n            this.presentToast('Ce compte existe déjà. Vérifier email ou vos pseudo')\n            this.dismissLoading()\n          } else {\n            this.presentToast('Oops! une erreur est survenue sur le serveur')\n            this.dismissLoading()\n\n          }\n  \n        })\n\n    } else {\n      this.loading = false;\n      this.presentToast('le mot de passe et la confirmation ne correspondent pas')\n      this.dismissLoading()\n\n    }\n\n\n  }\n\n\n  async presentToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 4000\n    });\n    toast.present();\n  }\n\n  async presentLoading() {\n    this.loading = true;\n    return await this.loadingCtrl.create({\n      duration: 5000,\n    }).then(a => {\n      a.present().then(() => {\n        console.log('presented');\n        if (!this.loading) {\n          a.dismiss().then(() => console.log('abort presenting'));\n        }\n      });\n    });\n  }\n\n  async dismissLoading() {\n    this.loading = false;\n    return await this.loadingCtrl.dismiss().then(() => console.log('dismissed'));\n  }\n\n}\n"],"sourceRoot":"webpack:///"}