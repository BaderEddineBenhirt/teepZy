{"version":3,"sources":["src/app/signup-final/signup-final.page.html","src/app/signup-final/signup-final-routing.module.ts","src/app/signup-final/signup-final.module.ts","src/app/signup-final/signup-final.page.scss","src/app/signup-final/signup-final.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-content>\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col>\\n        <ion-icon style=\\\"font-size: 30px;\\\" name=\\\"arrow-back-outline\\\"></ion-icon>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <img src=\\\"../../assets/img/Illustration 5-05.png\\\" alt=\\\"\\\">\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col>\\n        <form class=\\\"example-form\\\">\\n          <mat-form-field class=\\\"example-full-width\\\">\\n            <mat-label>Cercle Amical</mat-label>\\n            <input matInput  type=\\\"text\\\" name=\\\"pAmical\\\" #pAmical=\\\"ngModel\\\" required [(ngModel)]=\\\"user.pseudoIntime\\\"  placeholder=\\\"Entrer un Pseudo\\\">\\n          </mat-form-field>\\n          <mat-form-field class=\\\"example-full-width\\\">\\n            <mat-label>Cercle Professionnel</mat-label>\\n            <input matInput  type=\\\"text\\\" name=\\\"pProfessionnel\\\" #pProfessionnel=\\\"ngModel\\\" required [(ngModel)]=\\\"user.pseudoPro\\\"   placeholder=\\\"Entrer un Pseudo\\\">\\n          </mat-form-field>\\n\\n          <mat-form-field class=\\\"example-full-width\\\">\\n            <mat-label>Mot de passe</mat-label>\\n            <input matInput type=\\\"password\\\" name=\\\"passwordId\\\" #passwordId=\\\"ngModel\\\" minlength=\\\"8\\\" required [(ngModel)]=\\\"user.password\\\" placeholder=\\\"\\\">\\n            \\n          </mat-form-field>\\n          <div style=\\\"font-size: 11px;margin-left: 34px;\\\" *ngIf=\\\"passwordId.errors?.minlength\\\">\\n            Le mot de passe doit contenir au moins 8 caractères\\n          </div>\\n          <mat-form-field class=\\\"example-full-width\\\">\\n            <mat-label>Confirmer mot de passe</mat-label>\\n            <input matInput name=\\\"conf\\\" #conf=\\\"ngModel\\\" required [(ngModel)]=\\\"user.conf\\\"  placeholder=\\\"\\\" type=\\\"password\\\">\\n          </mat-form-field>\\n\\n\\n        </form>\\n\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n\\n</ion-content>\\n  <!-- Footer without a border -->\\n  <ion-footer class=\\\"ion-no-border\\\">\\n      <ion-toolbar>\\n        <button  style=\\\"float: right;\\\" \\n        [disabled]=\\\"pAmical.errors?.required \\n        || pProfessionnel.errors?.required \\n        || passwordId.errors?.required\\n        || conf.errors?.required\\\"\\n\\n        (click)=\\\"signup()\\\"  mat-button>Suivant</button>\\n      </ion-toolbar>\\n    </ion-footer>\\n  \\n  \"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignupFinalPage } from './signup-final.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupFinalPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignupFinalPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupFinalPageRoutingModule } from './signup-final-routing.module';\nimport { MaterialModule } from '../material.module';\n\nimport { SignupFinalPage } from './signup-final.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MaterialModule,\n\n    SignupFinalPageRoutingModule\n  ],\n  declarations: [SignupFinalPage]\n})\nexport class SignupFinalPageModule {}\n","export default \"img {\\n  width: 53%;\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\nmat-form-field {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.code {\\n  width: 25%;\\n  float: left;\\n  margin-left: 34px;\\n}\\n\\n.phone {\\n  width: 52%;\\n  float: right;\\n  margin-right: 32px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2lnbnVwLWZpbmFsL0M6XFxVc2Vyc1xcYmFkZXJcXERyb3Bib3hcXE15IFBDIChMQVBUT1AtSUFSVUQ4RUopXFxEb3dubG9hZHNcXHRlZXB6eVxcdGVlcHp5bW9iaWxlLW1hc3Rlci9zcmNcXGFwcFxcc2lnbnVwLWZpbmFsXFxzaWdudXAtZmluYWwucGFnZS5zY3NzIiwic3JjL2FwcC9zaWdudXAtZmluYWwvc2lnbnVwLWZpbmFsLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURFQTtFQUNJLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3NpZ251cC1maW5hbC9zaWdudXAtZmluYWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW1ne1xuICAgIHdpZHRoOiA1MyU7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xufVxuXG5tYXQtZm9ybS1maWVsZHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG5cbi5jb2Rle1xuICAgIHdpZHRoOiAyNSU7XG4gICAgZmxvYXQ6IGxlZnQ7XG4gICAgbWFyZ2luLWxlZnQ6IDM0cHg7XG59XG5cbi5waG9uZXtcbiAgICB3aWR0aDogNTIlO1xuICAgIGZsb2F0OiByaWdodDtcbiAgICBtYXJnaW4tcmlnaHQ6IDMycHg7XG5cbn0iLCJpbWcge1xuICB3aWR0aDogNTMlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxubWF0LWZvcm0tZmllbGQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxuLmNvZGUge1xuICB3aWR0aDogMjUlO1xuICBmbG9hdDogbGVmdDtcbiAgbWFyZ2luLWxlZnQ6IDM0cHg7XG59XG5cbi5waG9uZSB7XG4gIHdpZHRoOiA1MiU7XG4gIGZsb2F0OiByaWdodDtcbiAgbWFyZ2luLXJpZ2h0OiAzMnB4O1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../providers/auth.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { ToastController, LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-signup-final',\n  templateUrl: './signup-final.page.html',\n  styleUrls: ['./signup-final.page.scss'],\n})\nexport class SignupFinalPage implements OnInit {\n  user = {\n    email: '',\n    phone:'',\n    nom:'',\n    prenom:'',\n    photo:'',\n\n    pseudoIntime:'',\n    pseudoPro:'',\n    conf:'',\n    password: '',\n\n    role:''\n  }\n\n  retourUsr: any\n  profileInfo:any\n  captchaR:any\n  loading = false;\n  constructor(private authService: AuthService,\n    public router: Router,\n    public toastController: ToastController,\n    private route: ActivatedRoute,\n    private loadingCtrl: LoadingController,\n    \n    ) { }\n\n  ngOnInit() {\n   let usr = this.route.snapshot.queryParamMap\n   this.user.email = usr['params']['email']\n   this.user.phone = usr['params']['phone']\n   this.user.nom = usr['params']['nom']\n   this.user.prenom = usr['params']['prenom']\n   this.user.photo = usr['params']['photo']\n\n   console.log(usr['params'])\n  }\n\n\n  signup() {\n    console.log(JSON.stringify(this.user));\n    this.presentLoading()\n    if (this.user.password == this.user.conf) {\n        this.authService.signup(JSON.stringify(this.user)).subscribe(res => {\n          console.log(res)\n          this.retourUsr = res;\n            this.profileInfo = res['data']\n            this.dismissLoading()\n          if (this.retourUsr['status'] == 200) {\n            this.presentToast('Inscription réussie')\n            this.loading = false\n            localStorage.setItem('teepzyUserId', this.profileInfo['userI']['_id'])\n            localStorage.setItem('teepzyToken',this.profileInfo['token'])\n            localStorage.setItem('teepzyEmail', this.profileInfo['userI']['email'])\n              this.router.navigate(['/link'], {\n                replaceUrl: true\n              })\n          }\n        }, error => {\n          console.log(error)\n          this.loading = false;\n           if (error['status'] == 403){\n            this.presentToast('Ce compte existe déjà. Vérifier email ou vos pseudo')\n            this.dismissLoading()\n          } else {\n            this.presentToast('Oops! une erreur est survenue sur le serveur')\n            this.dismissLoading()\n\n          }\n  \n        })\n\n    } else {\n      this.loading = false;\n      this.presentToast('le mot de passe et la confirmation ne correspondent pas')\n      this.dismissLoading()\n\n    }\n\n\n  }\n\n\n  async presentToast(msg) {\n    const toast = await this.toastController.create({\n      message: msg,\n      duration: 4000\n    });\n    toast.present();\n  }\n\n  async presentLoading() {\n    this.loading = true;\n    return await this.loadingCtrl.create({\n      duration: 5000,\n    }).then(a => {\n      a.present().then(() => {\n        console.log('presented');\n        if (!this.loading) {\n          a.dismiss().then(() => console.log('abort presenting'));\n        }\n      });\n    });\n  }\n\n  async dismissLoading() {\n    this.loading = false;\n    return await this.loadingCtrl.dismiss().then(() => console.log('dismissed'));\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"signup-final-signup-final-module-es5.js"}